{% extends "user/index.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block start %}



<main class="card-wrapper">

<div id="myDIV" class="btn">

   <header>
      <h3>Olá {{ user.username }}! Faça acompanhamento dos índices zootécnicos do seu rebanho.</h3>
   </header>
   

<div class="btn-group" style="width:100%">
   <button onclick="myFunction()">Número de matrizes (cab)</button>
   <button  type="submit">Intervalo entre partos (mês)</button>

</div>

<div class="btn-group" style="width:100%">
   <button  type="submit">Taxa de fertilidade (%)</button>
   <button  type="submit">Número de crias/parto (unid)</button>
</div>

<div class="btn-group" style="width:100%">
   <button  type="submit">Taxa de mortalidade (%)</button>
   <button  type="submit">Porcentagem de cabras ordenhadas (%)</button>
</div>

<div class="btn-group" style="width:100%">
   <button  type="submit">Período de lactação (dias)</button>
   <button  type="submit">Produção de leite (litros/cabeça)</button>
</div>

<div class="btn-group" style="width:100%">
   <button  type="submit">Peso do cordeiro na venda (Kg)</button>
   <button  type="submit">Idade ao abate (mês)</button>
</div>

<div class="btn-group" style="width:100%">
   <button  type="submit">Rendimento de carcaça (%)</button>
</div>

</div>

</main>


<!-- ############ Button edit ########## <button id="button" onclick="showForm()" style="width:10%; margin-left: 65%;  margin-top: 5%; display: none; position: relative;
      ">Adicionar número de matrizes</button> -->


<body>

         <div class="form-group col-md-4" id="formElement" style="width:10%; margin-left: 75%;  margin-top: 5%; display: none; position: relative;">
            <select id="months">
              <option selected>Selecionar o mês</option>
              <option value="9">Setembro</option>
              <option value="10">Outubro</option>
              <option value="11">Novembro</option>
              <option value="12">Dezembro</option>
            </select>
            <input type="text" class="form-control" id="inputCab" placeholder="Informe o número de matrizes (cab)">
            <button onclick="store()" class="btn btn-primary">Adicionar</button>
         </div>

   </div>
   
   <script>


   function myFunction() {
   var x = document.getElementById("myDIV");
   var y = document.getElementById("myChart");
   var b = document.getElementById("formElement"); 
   if (x.style.display === "none") {
      x.style.display = "block";
      y.style.display = "none";
      b.style.display = "none";
   } else {
   x.style.display = "none";
   y.style.display = "block";
   b.style.display = "block";
   }  
   }

   function showForm() {
          document.getElementById('formElement').style.display = 'block';
          document.getElementById('button').style.display = 'none';

      }
   //stores items in the localStorage
   function store(){ 
      var months = document.getElementById('months').value;
      var inputCab = document.getElementById('inputCab').value;
      var key = "{{user.username}}";
      
      const chart = {
         months: months,
         inputCab: inputCab,
      }
      
      if (months === "9") {
      alert("Valor salvo com sucesso!")
      let set = inputCab
   }
   else if (months === '10') {
      let out = inputCab
   }
   else if (months === '11') {
      let nov = inputCab
   }
   else{
      let dez = inputCab
   }

      window.localStorage.setItem(key,JSON.stringify(chart));  
      //converting object to string      alert("O valor foi salvo com sucesso!")
   }
   </script>

   
<!-- ############# Chart ########## -->


      <canvas id="myChart" style="width:80%;max-width:60%; margin-left: 15%; margin-top: 0.1%; display: none;"></canvas>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

      <script>
      
      function showChart(){
         var yValues = [55, 49, 44, 49, 44, 55, 49, 44, 0, 0, 0, 0]; 
      }

      var xValues = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro','Dezembro'];
      var yValues = [55, 49, 44, 49, 44, 55, 49, 44, 0, 0, 0, 0]; 

      new Chart("myChart", {
         type: "bar",
         data: {
            labels: xValues,
         datasets: [{
            backgroundColor: "rgba(0,0,255,0.6)",
            data: yValues
         }]
      },
         options: {
         legend: {display: false},
         title: {
         display: true,
         text: "Número de matrizes (cab)"
         }
      }
      });
   </script>

</body>


{% endblock start %}